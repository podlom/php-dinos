<?php

declare(strict_types=1);


require 'vendor/autoload.php';

$parsedown = new Parsedown();

$markdown = <<<EOT
ÐžÑÑŒ Ð¿ÐµÑ€ÐµÐ»Ñ–Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´ Git Ð´Ð»Ñ Ð²Ð¸ÐºÐ¾Ð½Ð°Ð½Ð½Ñ Ð·Ð°Ð²Ð´Ð°Ð½ÑŒ, ÑÐºÑ– Ñ‚Ð¸ Ð¾Ð¿Ð¸ÑÐ°Ð²:

### 1. **ÐŸÑ€Ð¾Ð°Ð½Ð°Ð»Ñ–Ð·ÑƒÐ²Ð°Ñ‚Ð¸ Ñ€Ñ–Ð·Ð½Ð¸Ñ†ÑŽ Ð² Ð³Ñ–Ð»ÐºÐ°Ñ… dev/stage/prod**
```bash
# ÐŸÐ¾Ð´Ð¸Ð²Ð¸Ñ‚Ð¸ÑÑ Ñ€Ñ–Ð·Ð½Ð¸Ñ†ÑŽ Ð¼Ñ–Ð¶ develop Ñ– stage
git diff develop stage

# ÐŸÐ¾Ð´Ð¸Ð²Ð¸Ñ‚Ð¸ÑÑ Ñ€Ñ–Ð·Ð½Ð¸Ñ†ÑŽ Ð¼Ñ–Ð¶ stage Ñ– prod
git diff stage prod

# ÐŸÐ¾Ð´Ð¸Ð²Ð¸Ñ‚Ð¸ÑÑ Ñ€Ñ–Ð·Ð½Ð¸Ñ†ÑŽ Ð¼Ñ–Ð¶ develop Ñ– prod
git diff develop prod

# ÐŸÐ¾Ð´Ð¸Ð²Ð¸Ñ‚Ð¸ÑÑ Ð¾ÑÑ‚Ð°Ð½Ð½Ñ– ÐºÐ¾Ð¼Ñ–Ñ‚Ð¸, ÑÐºÑ– Ñ” Ð² Ð¾Ð´Ð½Ñ–Ð¹ Ð³Ñ–Ð»Ñ†Ñ–, Ð°Ð»Ðµ Ð²Ñ–Ð´ÑÑƒÑ‚Ð½Ñ– Ð² Ñ–Ð½ÑˆÑ–Ð¹
git log develop..stage --oneline
git log stage..prod --oneline
git log develop..prod --oneline
```

### 2. **Ð¡Ñ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ ÑÐ¿Ð¸ÑÐ¾Ðº Ð´Ñ–Ð»ÑÐ½Ð¾Ðº ÐºÐ¾Ð´Ñƒ, Ñ‰Ð¾ Ð¼Ð°ÑŽÑ‚ÑŒ Ð±ÑƒÑ‚Ð¸ Ñ€Ñ–Ð·Ð½Ð¸Ð¼Ð¸ Ð² Ð·Ð°Ð»ÐµÐ¶Ð½Ð¾ÑÑ‚Ñ– Ð²Ñ–Ð´ Ð¾Ñ‚Ð¾Ñ‡ÐµÐ½Ð½Ñ**
```bash
# Ð—Ð½Ð°Ð¹Ñ‚Ð¸ Ð²ÑÑ– Ñ„Ð°Ð¹Ð»Ð¸, Ñ‰Ð¾ Ð²Ñ–Ð´Ñ€Ñ–Ð·Ð½ÑÑŽÑ‚ÑŒÑÑ Ð¼Ñ–Ð¶ Ð³Ñ–Ð»ÐºÐ°Ð¼Ð¸
git diff --name-only develop stage
git diff --name-only stage prod
git diff --name-only develop prod

# ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ð¸Ñ‚Ð¸ Ð·Ð¼Ñ–Ð½Ð½Ñ– ÑÐµÑ€ÐµÐ´Ð¾Ð²Ð¸Ñ‰Ð° Ñ‚Ð° ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–Ð¹Ð½Ñ– Ñ„Ð°Ð¹Ð»Ð¸
git diff develop stage -- config/
git diff stage prod -- config/
git diff develop prod -- config/
```
> **Ð”Ð°Ð»Ñ– Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ Ð¿Ñ€Ð¾Ð°Ð½Ð°Ð»Ñ–Ð·ÑƒÐ²Ð°Ñ‚Ð¸, ÑÐºÑ– Ð· Ñ†Ð¸Ñ… Ñ„Ð°Ð¹Ð»Ñ–Ð² Ð²Ð°Ñ€Ñ‚Ð¾ Ð²Ð¸Ð½ÐµÑÑ‚Ð¸ Ð² `.env` Ð°Ð±Ð¾ Ð·Ñ€Ð¾Ð±Ð¸Ñ‚Ð¸ Ñ‡ÐµÑ€ÐµÐ· `if(env(...))` Ñƒ ÐºÐ¾Ð´Ñ–.**

### 3. **ÐžÐ±Ð³Ð¾Ñ€Ð½ÑƒÑ‚Ð¸ Ð·Ð¼Ñ–Ð½Ð½Ð¸Ð¹ ÐºÐ¾Ð´ ÑƒÐ¼Ð¾Ð²Ð°Ð¼Ð¸**
- Ð¯ÐºÑ‰Ð¾ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ”Ñ‚ÑŒÑÑ Laravel, Ñ‚Ð¾ Ð²Ð°Ñ€Ñ‚Ð¾ Ð²Ð¸Ð½ÐµÑÑ‚Ð¸ Ñ€Ñ–Ð·Ð½Ð¸Ð¹ ÐºÐ¾Ð´ Ñƒ `.env` Ñ‚Ð° Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ²Ð°Ñ‚Ð¸ `env()`:
```php
if (env('APP_ENV') === 'production') {
    // ÐšÐ¾Ð´ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐ½Ñƒ
} else {
    // ÐšÐ¾Ð´ Ð´Ð»Ñ ÑÑ‚ÐµÐ¹Ð´Ð¶Ñƒ Ð°Ð±Ð¾ Ð´ÐµÐ²ÐµÐ»Ð¾Ð¿Ñƒ
}
```
- Ð¯ÐºÑ‰Ð¾ Ñ†Ðµ Docker, Ñ‚Ð¾ Ð²Ð°Ñ€Ñ‚Ð¾ Ð²Ð¸Ð½ÐµÑÑ‚Ð¸ Ð·Ð¼Ñ–Ð½Ð½Ñ– Ð² `docker-compose.override.yml` Ð´Ð»Ñ Ñ€Ñ–Ð·Ð½Ð¸Ñ… ÑÐµÑ€ÐµÐ´Ð¾Ð²Ð¸Ñ‰.

### 4. **ÐšÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ñ–Ñ Ð· Ð´ÐµÐ²Ð¾Ð¿ÑÐ°Ð¼Ð¸ Ñ‰Ð¾Ð´Ð¾ Ð¿ÐµÑ€ÐµÑÑ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ Ð³Ñ–Ð»Ð¾Ðº stage/develop Ð²Ñ–Ð´ prod**
```bash
# Ð¡Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ Ð½Ð¾Ð²Ð¸Ñ… stage Ñ– develop Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ñ– prod
git checkout prod
git checkout -b new-develop
git checkout -b new-stage

# (ÐžÐ±Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸, ÑÐº Ð·Ð±ÐµÑ€ÐµÐ³Ñ‚Ð¸ Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ñ– Ð·Ð¼Ñ–Ð½Ð¸ Ñƒ stage/develop Ð¿ÐµÑ€ÐµÐ´ Ñ—Ñ… Ð¿ÐµÑ€ÐµÑÑ‚Ð²Ð¾Ñ€ÐµÐ½Ð½ÑÐ¼)
```

### 5. **Ð’Ð¸Ñ€Ñ–ÑˆÐ¸Ñ‚Ð¸, ÐºÐ¾Ð»Ð¸ Ð½Ð°Ð¹ÐºÑ€Ð°Ñ‰Ðµ Ð²Ð¸Ð´Ð°Ð»ÑÑ‚Ð¸ Ð³Ñ–Ð»ÐºÐ¸**
- ÐÐ°Ð¹ÐºÑ€Ð°Ñ‰Ð¸Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ð´Ð»Ñ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ð½Ñ Ð³Ñ–Ð»Ð¾Ðº â€” **Ð¿Ñ–ÑÐ»Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ñ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð³Ð¾ Ñ†Ð¸ÐºÐ»Ñƒ Ñ€Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ¸**, ÐºÐ¾Ð»Ð¸ Ð²ÑÑ– Ð·Ð¼Ñ–Ð½Ð¸ Ð· `develop` Ñ‚Ð° `stage` Ð²Ð¶Ðµ **Ð·Ð¼ÐµÑ€Ð´Ð¶ÐµÐ½Ð¾ Ñƒ `prod`**.

```bash
# ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ð¸Ñ‚Ð¸, Ñ‡Ð¸ Ð²ÑÑ– Ð·Ð¼Ñ–Ð½Ð¸ Ð¿Ð¾Ñ‚Ñ€Ð°Ð¿Ð¸Ð»Ð¸ Ð² Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐ½
git log develop..prod --oneline
git log stage..prod --oneline

# Ð¯ÐºÑ‰Ð¾ Ð²ÑÑ– Ð·Ð¼Ñ–Ð½Ð¸ Ñ” Ð² Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐ½Ñ–, Ð¼Ð¾Ð¶Ð½Ð° Ð²Ð¸Ð´Ð°Ð»ÑÑ‚Ð¸ Ð³Ñ–Ð»ÐºÐ¸:
git branch -D develop  # Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾
git push origin --delete develop  # Ð’Ñ–Ð´Ð´Ð°Ð»ÐµÐ½Ð¾
git branch -D stage
git push origin --delete stage
```

---

## **Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¸, ÑÐºÑ– Ð¼Ð¸ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ”Ð¼Ð¾**
âœ… **Ð›Ñ–ÐºÐ²Ñ–Ð´ÑƒÑ”Ð¼Ð¾ cherry-picks** â€” Ð±Ñ–Ð»ÑŒÑˆÐµ Ð½Ðµ Ð±ÑƒÐ´Ðµ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð¸ Ð²Ñ€ÑƒÑ‡Ð½Ñƒ Ð¿ÐµÑ€ÐµÑ‚ÑÐ³ÑƒÐ²Ð°Ñ‚Ð¸ Ð·Ð¼Ñ–Ð½Ð¸ Ð¼Ñ–Ð¶ Ð³Ñ–Ð»ÐºÐ°Ð¼Ð¸.  
âœ… **Ð›Ñ–ÐºÐ²Ñ–Ð´ÑƒÑ”Ð¼Ð¾ Ð¿Ð¾ÑÑ‚Ñ–Ð¹Ð½Ñ– ÐºÐ¾Ð½Ñ„Ð»Ñ–ÐºÑ‚Ð¸** â€” ÐºÐ¾Ð´ Ð±ÑƒÐ´Ðµ Ð¾Ð´Ð½Ð°ÐºÐ¾Ð²Ð¸Ð¹ Ñƒ Ð²ÑÑ–Ñ… ÑÐµÑ€ÐµÐ´Ð¾Ð²Ð¸Ñ‰Ð°Ñ…, ÐºÑ€Ñ–Ð¼ ÑÐ¿ÐµÑ†Ð¸Ñ„Ñ–Ñ‡Ð½Ð¸Ñ… Ð½Ð°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ð½ÑŒ.  
âœ… **Ð›Ñ–ÐºÐ²Ñ–Ð´ÑƒÑ”Ð¼Ð¾ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ¸ Ñ‡ÐµÑ€ÐµÐ· Ð²Ñ–Ð´Ð¼Ñ–Ð½Ð½Ð¾ÑÑ‚Ñ– Ð¾Ñ‚Ð¾Ñ‡ÐµÐ½ÑŒ** â€” ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–Ñ Ð±ÑƒÐ´Ðµ Ð²Ð¸Ð½ÐµÑÐµÐ½Ð° Ñƒ Ð·Ð¼Ñ–Ð½Ð½Ñ– ÑÐµÑ€ÐµÐ´Ð¾Ð²Ð¸Ñ‰Ð°.  

Ð¯ÐºÑ‰Ð¾ Ñ‰Ðµ Ñ‰Ð¾ÑÑŒ Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ ÑƒÑ‚Ð¾Ñ‡Ð½Ð¸Ñ‚Ð¸ Ñ‡Ð¸ Ð´Ð¾Ð¿Ð¾Ð²Ð½Ð¸Ñ‚Ð¸ â€” Ð·Ð°Ð¿Ð¸Ñ‚ÑƒÐ¹! ðŸš€


EOT;

$html = $parsedown->text($markdown);

echo $html . PHP_EOL;
